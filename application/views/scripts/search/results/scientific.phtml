<?php
$order_arrow = '<img src="' . $this->baseUrl() . '/images/' .
(isset($this->urlParams['order']) && $this->urlParams['order'] == 'desc' ?
    'Arrow_up.gif' : 'Arrow_down.gif') .
'" alt="' .
(isset($this->urlParams['order']) && $this->urlParams['order'] == 'desc' ?
    $this->translate('ascending') :
    $this->translate('descending')
) .
'" />';

$order = array(
    'name' => 'asc',
    'rank' => 'asc',
    'status' => 'asc',
    'group' => 'asc',
    'db' => 'asc'
);
if(isset($this->sort) && isset($this->urlParams['order']) &&
    $this->urlParams['order'] == 'asc')
{
    $order[$this->sort] = 'desc';
}
?>

<table class="results">
<?php $rowClass = "odd"; ?>
    <tr class="even">
        <th class="horizontal<?php echo ($this->sort == 'name' ? " current" : "");?>">
        <a href="<?php echo $this->url(array_merge($this->urlParams, array(
          'sort' => 'name'))); ?>"><?php echo $this->translate('Scientific_name'); ?></a>
        </th>
        <th class="horizontal<?php echo ($this->sort == 'status' ? " current" : "");?>">
        <a href="<?php echo $this->url(array_merge($this->urlParams, array(
          'sort' => 'status'))); ?>"><?php echo $this->translate('Name_status'); ?>
        </a></th>
        <th class="horizontal<?php echo ($this->sort == 'group' ? " current" : "");?>">
        <a href="<?php echo $this->url(array_merge($this->urlParams, array(
          'sort' => 'group'))); ?>"><?php echo $this->translate('Group'); ?>
        </a></th>
        <th class="horizontal<?php echo ($this->sort == 'db' ? " current" : "");?>">
        <a href="<?php echo $this->url(array_merge($this->urlParams, array(
          'sort' => 'db'))); ?>"><?php echo $this->translate('Database'); ?>
        </a></th>
    </tr>
<?php foreach ($this->data as $row): ?>
    <tr class="<?php echo $rowClass; ?>">
        <td class="field_header_black">
            <a href="<?php echo $this->baseUrl() . $row['url']; ?>">
                <?php echo $row['name']; ?>
            </a>
        </td>
        <td><?php echo $row['status']; ?></td>
        <td><?php echo $row['group']; ?></td>
        <td>
<?php if($row['dbLabel'] != ""): ?>
        <a class="wrapLogo tinyImgLink" href="<?php echo $this->baseUrl() . $row['dbUrl']; ?>">
        <img
          src="<?php echo $this->baseUrl() . $row['dbLogo']; ?>"
          alt="<?php echo $row['dbLabel']; ?>"
          title="<?php echo $row['dbLabel']; ?>" /></a>
<?php endif; ?>
        </td>
    </tr>
<?php $rowClass = ($rowClass == "odd" ? "even" : "odd");?>
<?php endforeach; ?>
</table>